enum UserRole {
	STUDENT
	TEACHER
	GRADER
}

type ModuleEnrollment {
	"""
	id of the ModuleEnrollment
	"""
	id: ID!

	"""
	TimeStamp at which the module is enrolledAt
	"""
	enrolledAt: String!

	"""
	Role of the user:Either Student, Teacher or Grader
	"""
	role: UserRole!

	"""
	Current Module
	"""
	module: Module!

	"""
	Plan of study Chosen
	"""
	plan: PlanOfStudy!
}

type AssignmentResult {
	"""
	id of AssignmentResult
	"""
	id: ID!

	"""
	Time at which the Assignement Result is given
	"""
	submittedAt: String!

	"""
	result of the Assignement
	"""
	result: Float!

	"""
	feedback given on the Assignment
	"""
	feedback: String

	"""
	Assignement Result of the student
	"""
	student: PlanOfStudy

	"""
	Assignement graded by the User
	"""
	gradedBy: User

	"""
	Assignement to which result is given
	"""
	assignment: Assignment
}

type Assignment {
	"""
	Assignment id
	"""
	id: ID!

	"""
	date and time at which assignment is updated
	"""
	updatedAt: String!

	"""
	Name of the assignment
	"""
	name: String!

	"""
	due of the assignment
	"""
	dueAt: String

	"""
	Assignment belonging to the module
	"""
	module: Module!

	"""
	Assignment Result
	"""
	assignmentResults: [AssignmentResult]
}

type ModuleFeedback {
	"""
	id of ModuleFeedback
	"""
	id: ID!

	"""
	Feedback fo the Module
	"""
	feedback: String!

	"""
	Rating given in the feedback
	"""
	rating: Int!

	"""
	Module feedback given by the student
	"""
	student: User

	"""
	Module in which module feedback is given
	"""
	module: Module

}

type Course {
	"""
	course id
	"""
	id: ID!

	"""
	Name of the course
	"""
	name: String!

	"""
	modules in the course
	"""
	modules: [ModuleInCourse]
}

type Module {
	"""
	Module Id
	"""
	id: ID!

	"""
	Number of the Module
	"""
	moduleNumber: Int!

	"""
	Name of hte Module
	"""
	moduleName: String!

	"""
	Description of the Module
	"""
	description: String!

	"""
	Duration of the Module
	"""
	duration: Float!

	"""
	Introduction of the Module
	"""
	intro: String!

	"""
	No of slides in the Module
	"""
	numSlides: Int!

	"""
	Keywords in the Modules
	"""
	keywords: [String!]!

	"""
	Date and Time of the Module Created at
	"""
	createdAt: String!

	"""
	Date and Time of the Module Updated at
	"""
	updatedAt: String!

	"""
	Assignement in the module
	"""
	assignments: [Assignment]

	"""
	Memebers enrolled in the Module
	"""
	members: [ModuleEnrollment]

	"""
	Feedback of the Module
	"""
	feedback: [ModuleFeedback]

	"""
	Parent Courses in the Modules
	"""
	parentCourses: [ModuleInCourse]

	"""
	Parent Modules of the Module
	"""
	parentModules: [Requirement]

	"""
	Childmodules in the Module
	"""
	childModules: [Requirement]
}
type Requirement{
	"""
	id of Requirement
	"""
	id: ID!

	"""
	Child module in requirement
	"""
	child: Module!

	"""
	Parent Module in Requirement
	"""
	parent: Module!
}

type ModuleInCourse {
	"""
	id of ModuleInCourse
	"""
	id: ID!

	"""
	Module in ModuleInCourse
	"""
	module: Module

	"""
	Course in ModuleInCourse
	"""
	course: Course
}

type Error {
	"""
	Error message
	"""
	message: String
}

type Query {
	"""
	List of All modules in the Query
	"""
	modules: [Module!]!
	"""
	Specific Module in the Modules
	"""
	module(id: ID!): Module

	"""
	Specific Course in the Courses
	"""
	course(id: ID!): Course
	"""
	List of all courses
	"""
	courses: [Course!]!

	"""
	Specific assignment in assignments
	"""
	assignments: [Assignment!]!
	"""
	List of all assignments
	"""
	assignment(id: ID!): Assignment

	""""
	Modules in the courses
	"""
	moduleInCourses: [ModuleInCourse!]!

	"""
	Module feedbacks
	"""
	moduleFeedbacks: [ModuleFeedback!]!
	"""
	Specific module feedback in modulefeedbacks
	"""
	moduleFeedback(id: ID!): ModuleFeedback

	"""
	Specific assisgnement result
	"""
	assignmentResults: [AssignmentResult!]!
	"""
	list of all assignment Results
	"""
	assignmentResult(id: ID!): AssignmentResult

	"""
	List of module enrollment
	"""
	moduleEnrollments: [ModuleEnrollment!]!
	"""
	Specific Moduleenrollment in Moduleenrollment
	"""
	moduleEnrollment(id: ID!): ModuleEnrollment
}


input NewModule {
	moduleNumber: Int!
	"""
	Number of the Module
	"""
	moduleName: String!
	"""
	Name of the Module
	"""
	description: String!
	"""
	description of the Module
	"""
	duration: Float!
	"""
	Duration of the NewModule
	"""
	intro: String!
	"""
	Introduction of the NewModule
	"""
	numSlides: Int!
	"""
	Number of Slides in NewModule
	"""
	keywords: [String!]!
	"""
	keywords of the NewModule
	"""
}

input UpdateModule {
	id: ID!
	"""
	UpdateModule id
	"""
	moduleName: String
	"""
	Module Name of the UpdateModule
	"""
	moduleNumber: Int
	"""
	Module NUmber of the UpdateModule
	"""
	intro: String
	"""
	Introduction of the UpdateModule
	"""
	description: String
	"""
	Decription of the UpdateModule
	"""
	duration: Float
	"""
	Duration of the UpdateModule
	"""
	numSlides: Int
	"""
	Number of slides in Updatemodule
	"""
	keywords: [String!]
	"""
	Keywords in UpdateModule
	"""
}

input NewAssignment {
	name: String!
	"""
	Name of the NewAssignement
	"""
	dueAt: String!
	"""
	Due date and Time of NewAssignment
	"""
	module: ID!
	"""
	Module to which the NewAssignement Belongs to
	"""
}

input AssignmentInput {
	name: String
	"""
	New Name of the Assignment
	"""
	dueAt: String
	"""
	New Due date and time of the Assignement
	"""
	module: ID
	"""
	Updated module linkage
	"""
}

input CourseInput {
	name: String!
	"""
	New Name of the Course
	"""
}

input ModuleFeedbackInput {
	feedback: String!
	"""
	New Feedback of the Module
	"""
	rating: Int!
	"""
	New Rating of the Module
	"""
}

input ModuleFeedbackUpdate {
	feedback: String
	"""
	Updated feedback of Module
	"""
	rating: Int
	"""
	Updated feedback of Module
	"""
}

input NewAssignmentResult {
	assignment: ID!
	"""
	Relating assignment result to assignment"""
	"""
	student: ID!
	"""
	Relating Assignment Result to Student
	"""
	grader: ID!
	"""
	Relating Assignment Result to Grader
	"""

	result: Float!
	"""
	result of the NewAssignement
	"""
}

input ModuleEnrollmentInput {
	module: ID!
	"""
	Relating Module to ModuleEnrollment
	"""
	plan: ID!
	"""
	Relating Plan to MOdule enrollment
	"""
	role: UserRole!
	"""
	Relating role to ModuleEnrollment
	"""
}

type Mutation {
	deleteModule(id: ID!): Module
	"""
	Deletes the entire Module
	"""
	addModule(input: NewModule): Module!
	"""
	Adds an entire module
	"""
	updateModule(input: UpdateModule): Module
	"""
	updates a Module
	"""

	addRequirement(parentId: String, childId: String): Requirement
	"""
	adds Requirements 
	"""
	removeRequirement(parentId: String, childId: String): Requirement
	"""
	Removes requirements
	"""

	deleteCourse(id: ID!): Course
	"""
	deletes all Courses referring id
	"""
	addCourse(input: CourseInput): Course!
	"""
	adds Courses
	"""
	updateCourse(id: ID!, input: CourseInput): Course
	"""
	Updates Courses
	"""

	addAssignment(input: NewAssignment): Assignment!
	"""
	adds assignement in module
	"""
	deleteAssignment(module: ID!, id: ID!): Module
	"""
	Deletes assignments in Module
	"""
	updateAssignment(id: ID!, input: AssignmentInput): Assignment
	"""
	Updates Assignements
	"""

	addModuleFeedback(
		moduleId: ID!
		"""
		Module Feedback is given relating to Moduleid
		"""
		userId: ID!
		"""
		Module Feedback is given relating to Userid
		"""
		input: ModuleFeedbackInput
		"""
		Module Feedback is given relating to Modulefeedbackinput
		"""
	): Module
	updateModuleFeedback(id: ID!, input: ModuleFeedbackUpdate): ModuleFeedback
	"""
	Module feedback is updated
	"""
	deleteModuleFeedback(id: ID!): ModuleFeedback
	"""
	Module feedback is deleted
	"""

	addAssignmentResult(input: NewAssignmentResult): AssignmentResult!
	"""
	Assignment Result is added
	"""
	updateAssignmentResult(id: ID!, result: Float!): AssignmentResult
	"""
	Assignment Reuslt is Updated
	"""
	deleteAssignmentResult(id: ID!): AssignmentResult
	"""
	Assignment result is deleted
	"""

	addModuleEnrollment(input: ModuleEnrollmentInput): ModuleEnrollment!
	updateModuleEnrollment(
		id: ID!
		"""
		Module enrollment is updated relating to id
		"""
		input: ModuleEnrollmentInput
		"""
		Module enrollement input
		"""
	): ModuleEnrollment
	deleteModuleEnrollment(id: ID!): ModuleEnrollment
	"""
	Delete ModuleEnrollment
	"""
	
	pairCourseModule(courseId: ID!, moduleId: ID!): ModuleInCourse!
	"""
	Course Module is paired Relating Course ID and module Id
	"""
	unpairCourseModule(courseId: ID!, moduleId: ID!): ModuleInCourse
	"""
	Course Module is Unpaired Relating to Course Id and mobile Id
	"""
}
